<MainScreenView>
    md_bg_color: app.theme_cls.backgroundColor


    MDBoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            type: 'small'

            MDTopAppBarLeadingButtonContainer:

                MDActionTopAppBarButton:
                    icon: 'menu'

            MDTopAppBarTitle:
                text: root.park_name
                pos_hint: {'center_x': .5}

            MDTopAppBarTrailingButtonContainer:

                MDActionTopAppBarButton:
                    icon: 'cog'

        MDBoxLayout:
            orientation: 'horizontal'

            MDBoxLayout:
                orientation: 'vertical'

                MDBoxLayout:
                    padding: '12dp'
                    spacing: '42dp'


                    EmergencyBrake:
                        id: ebrake
                        halign: 'center'
                        pos_hint: {'center_x':.5, 'center_y': .5}
                        on_release: root.controller.emergency_brake(root)

                    MDBoxLayout:
                        orientation: 'vertical'
                        MDBoxLayout:
                            PowerButton:
                                id: power_button
                                on_release: root.controller.start_cable() if not self.is_cable_on else root.controller.stop_cable()

                            LockButton:
                                id: lock_button
                                on_release: root.lock_controls(self) if not self.is_cable_locked else root.unlock_controls(self)

                MDDivider:


                MDLabel:
                    text: f'Speed: {root.speed}'
                    font_style: 'Title'

                SpeedControl:
                    id: speed_control
                    size_hint_x: 1
                    speed_presets: root.preset_speeds
                    on_speed: root.controller.adjust_speed(self.speed)

                MDDivider:
                    size_hint_x: 1
                    pos_hint: {'center_x': .5, 'center_y': .5}

                MDLabel:
                    text: 'Riders:'
                    font_style: 'Title'

                MDDivider:
                    size_hint_x: 1
                    pos_hint: {'center_x': .5, 'center_y': .5}


            MDBoxLayout:
                md_bg_color: app.theme_cls.inverseOnSurfaceColor
                Widget:


